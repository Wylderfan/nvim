# Neovim Configuration Setup

This is a personal Neovim configuration featuring LSP support, fuzzy finding, git integration, and optimized keybindings for development.

## Features

- **Plugin Management**: Packer.nvim for easy plugin management
- **LSP Support**: Complete language server setup with autocompletion
- **Auto-pairing**: Automatic bracket, quote, and parentheses pairing with nvim-autopairs
- **Fuzzy Finding**: Telescope for file and text search
- **Quick Navigation**: Harpoon for rapid file switching
- **Git Integration**: Fugitive for git operations within Neovim
- **Syntax Highlighting**: Treesitter for advanced syntax highlighting
- **Theme**: Gruvbox Material color scheme
- **C++ Optimization**: Special configuration for C++ development with clangd

## Prerequisites

Before setting up this configuration, ensure you have the following installed:

### 1. Neovim (Latest Stable Version)

**macOS (Homebrew):**
```bash
brew install neovim
```

**Linux (Ubuntu/Debian):**
```bash
sudo apt update
sudo apt install neovim
```

**Linux (Arch):**
```bash
sudo pacman -S neovim
```

### 2. Node.js

**macOS (Homebrew):**
```bash
brew install node
```

**Linux:**
```bash
# Using NodeSource repository
curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -
sudo apt-get install -y nodejs
```

### 4. LLVM/Clangd (For C++ Development)

**macOS (Homebrew):**
```bash
brew install llvm
```

**Linux (Ubuntu/Debian):**
```bash
sudo apt install clangd
```

Note: The configuration is currently set up for Homebrew's clangd path (`/opt/homebrew/opt/llvm/bin/clangd`). You may need to adjust this path in `lua/lsp/init.lua` for Linux installations.

### 5. Ripgrep (For Telescope live grep)

**macOS (Homebrew):**
```bash
brew install ripgrep
```

**Linux (Ubuntu/Debian):**
```bash
sudo apt install ripgrep
```

## Installation Steps

### 1. Clone the Configuration

Navigate to your Neovim config directory and clone this repository:

```bash
# Remove existing config if it exists
rm -rf ~/.config/nvim

# Clone this configuration
git clone <your-repo-url> ~/.config/nvim
```

### 2. Install Packer.nvim

Packer needs to be installed manually first:

```bash
git clone --depth 1 https://github.com/wbthomason/packer.nvim \
  ~/.local/share/nvim/site/pack/packer/start/packer.nvim
```

### 3. Install Plugins

Open Neovim and install all plugins:

```bash
nvim
```

Inside Neovim, run:
```vim
:PackerSync
```

This will install all plugins defined in `lua/wylderfan/packer.lua`.

**Note**: The configuration includes conditional loading for autopairs integration, ensuring the LSP functionality works even if autopairs fails to load.

### 4. Install Language Servers

The configuration uses Mason to manage language servers. After the plugins are installed, Mason will automatically install the configured language servers:

- `lua_ls` (Lua)
- `pyright` (Python)
- `vimls` (Vimscript)
- `clangd` (C/C++)
- `gopls` (Go)
- `bashls` (Bash)
- `dockerls` (Docker)

You can check the installation status with:
```vim
:Mason
```

### 5. Update Treesitter Parsers

Ensure Treesitter parsers are installed:
```vim
:TSUpdate
```

## Configuration Structure

```
~/.config/nvim/
├── .cursorrules               # Cursor IDE AI assistant rules
├── init.lua                   # Entry point
├── lua/
│   ├── lsp/
│   │   └── init.lua          # LSP configuration
│   └── wylderfan/
│       ├── init.lua          # Module loader
│       ├── packer.lua        # Plugin management
│       ├── remap.lua         # Key mappings
│       ├── set.lua           # Neovim settings
│       └── cpp.lua           # C++ specific config
├── after/plugin/             # Plugin configurations
│   ├── colors.lua
│   ├── fugitive.lua
│   ├── telescope.lua
│   └── treesitter.lua
└── plugin/
    └── packer_compiled.lua   # Generated by Packer
```

## Key Mappings

### Leader Key
- Leader key is set to `<Space>`

### File Navigation
- `<leader>ff` - Find files (Telescope)
- `<Ctrl-p>` - Git files (Telescope)
- `<leader>fs` - Live grep search (Telescope)
- `<leader>fv` - File explorer (netrw)

### Harpoon (Quick File Switching)
- `<leader>a` - Add file to harpoon
- `<leader>s` - Remove current file from harpoon
- `<leader>t` - Toggle harpoon menu
- `<leader>q` - Navigate to file 1
- `<leader>w` - Navigate to file 2
- `<leader>e` - Navigate to file 3
- `<leader>r` - Navigate to file 4

### Movement
- `J` - Move 10 lines down
- `K` - Move 10 lines up

### Clipboard
- `<leader>y` - Copy selection to system clipboard
- `<leader>ya` - Copy entire file to system clipboard

### Auto-pairing
- Automatic closing of brackets `()`, `[]`, `{}`
- Automatic closing of quotes `"`, `'`
- `<Ctrl-e>` - Fast wrap selection with brackets/quotes
- Intelligent pairing based on file context (using Treesitter)

### LSP (When in supported files)
- `gd` - Go to definition
- `gD` - Go to declaration
- `L` - Show hover information
- `gi` - Go to implementation
- `gr` - Show references
- `<space>nn` - Rename symbol
- `<space>ca` - Code actions
- `<Ctrl-k>` - Signature help

### C++ Specific (In C/C++ files)
- `<leader>ch` - Switch between header and source
- `<leader>ct` - Show type hierarchy
- `<leader>cm` - Show symbol info

## Troubleshooting

### Common Issues

1. **Packer not found**: Make sure Packer is installed in the correct location
2. **Language servers not working**: Run `:Mason` and check if servers are installed
3. **Telescope errors**: Ensure ripgrep is installed
4. **Clangd not found**: Check the clangd path in `lua/lsp/init.lua` matches your installation
5. **Autopairs not working**: The configuration includes error handling for autopairs - if the plugin fails to load, completion will still work without auto-pairing

### Platform-Specific Notes

**Linux Users**: Update the clangd path in `lua/lsp/init.lua` from:
```lua
"/opt/homebrew/opt/llvm/bin/clangd",
```
to:
```lua
"clangd",
```

### Updating the Configuration

To update your configuration:

```bash
cd ~/.config/nvim
git pull origin main
nvim
:PackerSync
```

## Customization

- **Add new plugins**: Edit `lua/wylderfan/packer.lua`
- **Modify keybindings**: Edit `lua/wylderfan/remap.lua`
- **Change settings**: Edit `lua/wylderfan/set.lua`
- **Add language servers**: Edit `lua/lsp/init.lua`
- **Modify theme**: Change the colorscheme in `lua/wylderfan/packer.lua`

## Cursor IDE Integration

This configuration includes a `.cursorrules` file that provides AI assistant guidelines when using Cursor IDE. This file:
- Defines coding standards and best practices
- Ensures consistent AI assistance behavior
- Can be safely ignored if you're not using Cursor

The rules emphasize incremental changes, clear documentation, and educational explanations.
